{% extends "base.html" %}
{% block title %}Login{% endblock %}

{% block content %}

<!-- Page Wrapper (only login section is centered, not navbar) -->
<div class="bg-gray-100 min-h-screen flex items-center justify-center">

    <div class="container mx-auto px-4">
        <div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl">
            <div class="p-8">

                <!-- Toggle Tabs -->
                <div class="flex justify-center mb-8">
                    <button id="loginTab"
                        class="px-6 py-2 font-medium text-white bg-blue-500 rounded-l-lg focus:outline-none">
                        Login
                    </button>
                    <button id="signupTab"
                        class="px-6 py-2 font-medium text-blue-500 bg-white border border-blue-500 rounded-r-lg focus:outline-none">
                        Sign Up
                    </button>
                </div>

                <!-- Login Form -->
               <form id="loginForm" method="POST" class="space-y-6">
    {% csrf_token %}
<input type="hidden" name="action" value="login">
    <h2 class="text-2xl font-bold text-center text-gray-800">Welcome Back</h2>

    {% if form.non_field_errors %}
        <p class="text-red-500 text-sm text-center">
            Invalid username or password
        </p>
    {% endif %}

    <div>
        <label class="block text-sm font-medium text-gray-700">Username</label>
        <input
            type="text"
            name="username"
            required
            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md
                   focus:ring-blue-500 focus:border-blue-500">
    </div>

    <div>
        <label class="block text-sm font-medium text-gray-700">Password</label>
        <input
            type="password"
            name="password"
            required
            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md
                   focus:ring-blue-500 focus:border-blue-500">
    </div>

    <button
        type="submit"
        class="w-full py-2 px-4 rounded-md text-white bg-blue-500 hover:bg-blue-600">
        Login
    </button>
</form>


                <!-- Signup Form -->
                <form id="signupForm" method="POST" class="space-y-6 hidden">
    {% csrf_token %}
 <input type="hidden" name="action" value="signup">
    <h2 class="text-2xl font-bold text-center text-gray-800">Create Account</h2>

    <input type="text" name="first_name" placeholder="Full Name" required
        class="w-full px-3 py-2 border rounded-md">

    <input type="text" name="username" placeholder="Username" required
        class="w-full px-3 py-2 border rounded-md">

    <input type="password" name="password" placeholder="Password" required
        class="w-full px-3 py-2 border rounded-md">

    <input type="password" name="confirm_password" placeholder="Confirm Password" required
        class="w-full px-3 py-2 border rounded-md">

    <button type="submit"
        class="w-full py-2 px-4 rounded-md text-white bg-blue-500 hover:bg-blue-600">
        Create Account
    </button>
</form>


                <!-- Divider -->
                <div class="my-6 relative">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t"></div>
                    </div>
                    <div class="relative text-center text-sm text-gray-500 bg-white px-2">
                        Or continue with
                    </div>
                </div>

                <!-- Social Buttons -->
                <div class="grid grid-cols-2 gap-3">
                    <button class="border rounded-md py-2">Google</button>
                    <button class="border rounded-md py-2">GitHub</button>
                </div>

            </div>
        </div>
    </div>

</div>

<!-- Toggle Script -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    const loginTab = document.getElementById("loginTab");
    const signupTab = document.getElementById("signupTab");
    const loginForm = document.getElementById("loginForm");
    const signupForm = document.getElementById("signupForm");

    signupTab.onclick = () => {
        loginForm.classList.add("hidden");
        signupForm.classList.remove("hidden");
        signupTab.classList.add("bg-blue-500", "text-white");
        signupTab.classList.remove("bg-white", "text-blue-500");
        loginTab.classList.remove("bg-blue-500", "text-white");
        loginTab.classList.add("bg-white", "text-blue-500", "border");
    };

    loginTab.onclick = () => {
        signupForm.classList.add("hidden");
        loginForm.classList.remove("hidden");
        loginTab.classList.add("bg-blue-500", "text-white");
        loginTab.classList.remove("bg-white", "text-blue-500");
        signupTab.classList.remove("bg-blue-500", "text-white");
        signupTab.classList.add("bg-white", "text-blue-500", "border");
    };
});
</script>

{% endblock %}
